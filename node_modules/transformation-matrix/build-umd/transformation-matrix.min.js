!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TransformationMatrix=e():r.TransformationMatrix=e()}(self,(function(){return(()=>{"use strict";var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(r,e)=>Object.prototype.hasOwnProperty.call(r,e),r:r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})}},e={};function t(r,e){return Array.isArray(e)?[r.a*e[0]+r.c*e[1]+r.e,r.b*e[0]+r.d*e[1]+r.f]:{x:r.a*e.x+r.c*e.y+r.e,y:r.b*e.x+r.d*e.y+r.f}}function n(r,e){return e.map((function(e){return t(r,e)}))}function o(r){return{a:parseFloat(r.a),b:parseFloat(r.b),c:parseFloat(r.c),d:parseFloat(r.d),e:parseFloat(r.e),f:parseFloat(r.f)}}r.r(e),r.d(e,{applyToPoint:()=>t,applyToPoints:()=>n,compose:()=>g,fromDefinition:()=>k,fromObject:()=>o,fromString:()=>i,fromTransformAttribute:()=>G,fromTriangles:()=>O,identity:()=>u,inverse:()=>c,isAffineMatrix:()=>p,rotate:()=>S,rotateDEG:()=>j,scale:()=>C,shear:()=>E,skew:()=>_,skewDEG:()=>F,smoothMatrix:()=>P,toCSS:()=>R,toSVG:()=>T,toString:()=>N,transform:()=>m,translate:()=>h});var a=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function i(r){var e=r.match(a);if(null===e||e.length<7)throw new Error("'".concat(r,"' is not a matrix"));return{a:parseFloat(e[1]),b:parseFloat(e[2]),c:parseFloat(e[3]),d:parseFloat(e[4]),e:parseFloat(e[5]),f:parseFloat(e[6])}}function u(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function c(r){var e=r.a,t=r.b,n=r.c,o=r.d,a=r.e,i=r.f,u=e*o-t*n;return{a:o/u,b:t/-u,c:n/-u,d:e/u,e:(o*a-n*i)/-u,f:(t*a-e*i)/u}}function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function s(r){return void 0===r}function l(r){return"number"==typeof r&&!Number.isNaN(r)&&Number.isFinite(r)}function p(r){return"object"===f(e=r)&&null!==e&&!Array.isArray(e)&&"a"in r&&l(r.a)&&"b"in r&&l(r.b)&&"c"in r&&l(r.c)&&"d"in r&&l(r.d)&&"e"in r&&l(r.e)&&"f"in r&&l(r.f);var e}function h(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e:r,b:0,d:1,f:e}}function d(r){return function(r){if(Array.isArray(r))return A(r)}(r)||b(r)||v(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(r){return function(r){if(Array.isArray(r))return r}(r)||b(r)||v(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(r,e){if(r){if("string"==typeof r)return A(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(r,e):void 0}}function A(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function b(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function m(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(r,e){return{a:r.a*e.a+r.c*e.b,c:r.a*e.c+r.c*e.d,e:r.a*e.e+r.c*e.f+r.e,b:r.b*e.a+r.d*e.b,d:r.b*e.c+r.d*e.d,f:r.b*e.e+r.d*e.f+r.f}};switch((e=Array.isArray(e[0])?e[0]:e).length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return n(e[0],e[1]);default:var o=e,a=y(o),i=a[0],u=a[1],c=a.slice(2),f=n(i,u);return m.apply(void 0,[f].concat(d(c)))}}function g(){return m.apply(void 0,arguments)}var x=Math.cos,w=Math.sin,M=Math.PI;function S(r,e,t){var n=x(r),o=w(r),a={a:n,c:-o,e:0,b:o,d:n,f:0};return s(e)||s(t)?a:m([h(e,t),a,h(-e,-t)])}function j(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return S(r*M/180,e,t)}function C(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;s(e)&&(e=r);var o={a:r,c:0,e:0,b:0,d:e,f:0};return s(t)||s(n)?o:m([h(t,n),o,h(-t,-n)])}function E(r,e){return{a:1,c:r,e:0,b:e,d:1,f:0}}var I=Math.tan;function _(r,e){return{a:1,c:I(r),e:0,b:I(e),d:1,f:0}}function F(r,e){return _(r*Math.PI/180,e*Math.PI/180)}function R(r){return N(r)}function T(r){return N(r)}function N(r){return"matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")")}function P(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(r.a*e)/e,b:Math.round(r.b*e)/e,c:Math.round(r.c*e)/e,d:Math.round(r.d*e)/e,e:Math.round(r.e*e)/e,f:Math.round(r.f*e)/e}}function O(r,e){var t=null!=r[0].x?r[0].x:r[0][0],n=null!=r[0].y?r[0].y:r[0][1],o=null!=e[0].x?e[0].x:e[0][0],a=null!=e[0].y?e[0].y:e[0][1],i=null!=r[1].x?r[1].x:r[1][0],u=null!=r[1].y?r[1].y:r[1][1],f=null!=e[1].x?e[1].x:e[1][0],s=null!=e[1].y?e[1].y:e[1][1],l=null!=r[2].x?r[2].x:r[2][0],p=null!=r[2].y?r[2].y:r[2][1],h=null!=e[2].x?e[2].x:e[2][0],d=null!=e[2].y?e[2].y:e[2][1];return P(m([{a:o-h,b:a-d,c:f-h,d:s-d,e:h,f:d},c({a:t-l,b:n-p,c:i-l,d:u-p,e:l,f:p})]))}function k(r){return Array.isArray(r)?r.map(e):e(r);function e(r){switch(r.type){case"matrix":if("a"in r&&"b"in r&&"c"in r&&"d"in r&&"e"in r&&"f"in r)return o(r);throw new Error("MISSING_MANDATORY_PARAM");case"translate":if(!("tx"in r))throw new Error("MISSING_MANDATORY_PARAM");return"ty"in r?h(r.tx,r.ty):h(r.tx);case"scale":if(!("sx"in r))throw new Error("MISSING_MANDATORY_PARAM");return"sy"in r?C(r.sx,r.sy):C(r.sx);case"rotate":if(!("angle"in r))throw new Error("MISSING_MANDATORY_PARAM");return"cx"in r&&"cy"in r?j(r.angle,r.cx,r.cy):j(r.angle);case"skewX":if(!("angle"in r))throw new Error("MISSING_MANDATORY_PARAM");return F(r.angle,0);case"skewY":if(!("angle"in r))throw new Error("MISSING_MANDATORY_PARAM");return F(0,r.angle);case"shear":if(!("shx"in r)||!("shy"in r))throw new Error("MISSING_MANDATORY_PARAM");return E(r.shx,r.shy);default:throw new Error("UNSUPPORTED_DESCRIPTOR")}}}function D(r,e,t,n){this.message=r,this.expected=e,this.found=t,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,D)}function Y(r,e){e=void 0!==e?e:{};var t,n={},o={transformList:q},a=q,i="matrix",u="(",c=")",f="translate",s="scale",l="rotate",p="skewX",h="skewY",d=/^[eE]/,y=/^[+\-]/,v=/^[0-9]/,A=/^[ \t\r\n]/,b=k("matrix",!1),m=k("(",!1),g=k(")",!1),x=k("translate",!1),w=k("scale",!1),M=k("rotate",!1),S=k("skewX",!1),j=k("skewY",!1),C=k(",",!1),E={type:"other",description:"fractionalConstant"},I=Y(["e","E"],!1,!1),_=Y(["+","-"],!1,!1),F=Y([["0","9"]],!1,!1),R=Y([" ","\t","\r","\n"],!1,!1),T=0,N=[{line:1,column:1}],P=[],O=0;if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function k(r,e){return{type:"literal",text:r,ignoreCase:e}}function Y(r,e,t){return{type:"class",parts:r,inverted:e,ignoreCase:t}}function G(e){var t,n=N[e];if(n)return n;for(t=e-1;!N[t];)t--;for(n={line:(n=N[t]).line,column:n.column};t<e;)10===r.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;return N[e]=n,n}var U,X,$="string"==typeof e.filename&&e.filename.length>0;function L(r,t){var n={};$&&(n.filename=e.filename);var o=G(r);n.start={offset:r,line:o.line,column:o.column};var a=G(t);return n.end={offset:t,line:a.line,column:a.column},n}function V(r){var e=P[P.length-1];T<e.pos||(T>e.pos&&(e.pos=T,e.variants=[]),e.variants.push(r))}function q(){var r,e,t,o;for(T,r=[],e=tr();e!==n;)r.push(e),e=tr();for((e=z())===n&&(e=null),t=[],o=tr();o!==n;)t.push(o),o=tr();return e}function z(){var r,e,t,o,a;if(r=T,(e=B())!==n){if(t=[],(o=K())!==n)for(;o!==n;)t.push(o),o=K();else t=n;t!==n&&(o=z())!==n?(a=o,r=e.concat(a)):(T=r,r=n)}else T=r,r=n;return r===n&&(r=B()),r}function B(){var e;return(e=function(){var e,t,o,a,f,s,l,p,h,d,y,v,A,x=function(r){0===O&&V(r)};if(e=T,x(b),r.substr(T,6)===i?(t=i,T+=6):t=n,t!==n){for(o=[],a=tr();a!==n;)o.push(a),a=tr();if(x(m),40===r.charCodeAt(T)?(a=u,T++):a=n,a!==n){for(f=[],s=tr();s!==n;)f.push(s),s=tr();if((s=H())!==n)if(K()!==n)if((l=H())!==n)if(K()!==n)if((p=H())!==n)if(K()!==n)if((h=H())!==n)if(K()!==n)if((d=H())!==n)if(K()!==n)if((y=H())!==n){for(v=[],A=tr();A!==n;)v.push(A),A=tr();x(g),41===r.charCodeAt(T)?(A=c,T++):A=n,A!==n?e=[{type:"matrix",a:s,b:l,c:p,d:h,e:d,f:y}]:(T=e,e=n)}else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n;else T=e,e=n}else T=e,e=n}else T=e,e=n;return e}())===n&&(e=function(){var e,t,o,a,i,s,l,p,h,d,y,v=function(r){0===O&&V(r)};if(e=T,v(x),r.substr(T,9)===f?(t=f,T+=9):t=n,t!==n){for(o=[],a=tr();a!==n;)o.push(a),a=tr();if(v(m),40===r.charCodeAt(T)?(a=u,T++):a=n,a!==n){for(i=[],s=tr();s!==n;)i.push(s),s=tr();if((s=H())!==n){for((l=J())===n&&(l=null),p=[],h=tr();h!==n;)p.push(h),h=tr();v(g),41===r.charCodeAt(T)?(h=c,T++):h=n,h!==n?(y={type:"translate",tx:s},(d=l)&&(y.ty=d),e=[y]):(T=e,e=n)}else T=e,e=n}else T=e,e=n}else T=e,e=n;return e}())===n&&(e=function(){var e,t,o,a,i,f,l,p,h,d,y,v=function(r){0===O&&V(r)};if(e=T,v(w),r.substr(T,5)===s?(t=s,T+=5):t=n,t!==n){for(o=[],a=tr();a!==n;)o.push(a),a=tr();if(v(m),40===r.charCodeAt(T)?(a=u,T++):a=n,a!==n){for(i=[],f=tr();f!==n;)i.push(f),f=tr();if((f=H())!==n){for((l=J())===n&&(l=null),p=[],h=tr();h!==n;)p.push(h),h=tr();v(g),41===r.charCodeAt(T)?(h=c,T++):h=n,h!==n?(y={type:"scale",sx:f},(d=l)&&(y.sy=d),e=[y]):(T=e,e=n)}else T=e,e=n}else T=e,e=n}else T=e,e=n;return e}())===n&&(e=function(){var e,t,o,a,i,f,s,p,h,d,y,v=function(r){0===O&&V(r)};if(e=T,v(M),r.substr(T,6)===l?(t=l,T+=6):t=n,t!==n){for(o=[],a=tr();a!==n;)o.push(a),a=tr();if(v(m),40===r.charCodeAt(T)?(a=u,T++):a=n,a!==n){for(i=[],f=tr();f!==n;)i.push(f),f=tr();if((f=H())!==n){for((s=function(){var r,e,t;return r=T,K()!==n&&(e=H())!==n&&K()!==n&&(t=H())!==n?r=[e,t]:(T=r,r=n),r}())===n&&(s=null),p=[],h=tr();h!==n;)p.push(h),h=tr();v(g),41===r.charCodeAt(T)?(h=c,T++):h=n,h!==n?(y={type:"rotate",angle:f},(d=s)&&(y.cx=d[0],y.cy=d[1]),e=[y]):(T=e,e=n)}else T=e,e=n}else T=e,e=n}else T=e,e=n;return e}())===n&&(e=function(){var e,t,o,a,i,f,s,l,h=function(r){0===O&&V(r)};if(e=T,h(S),r.substr(T,5)===p?(t=p,T+=5):t=n,t!==n){for(o=[],a=tr();a!==n;)o.push(a),a=tr();if(h(m),40===r.charCodeAt(T)?(a=u,T++):a=n,a!==n){for(i=[],f=tr();f!==n;)i.push(f),f=tr();if((f=H())!==n){for(s=[],l=tr();l!==n;)s.push(l),l=tr();h(g),41===r.charCodeAt(T)?(l=c,T++):l=n,l!==n?e=[{type:"skewX",angle:f}]:(T=e,e=n)}else T=e,e=n}else T=e,e=n}else T=e,e=n;return e}())===n&&(e=function(){var e,t,o,a,i,f,s,l,p=function(r){0===O&&V(r)};if(e=T,p(j),r.substr(T,5)===h?(t=h,T+=5):t=n,t!==n){for(o=[],a=tr();a!==n;)o.push(a),a=tr();if(p(m),40===r.charCodeAt(T)?(a=u,T++):a=n,a!==n){for(i=[],f=tr();f!==n;)i.push(f),f=tr();if((f=H())!==n){for(s=[],l=tr();l!==n;)s.push(l),l=tr();p(g),41===r.charCodeAt(T)?(l=c,T++):l=n,l!==n?e=[{type:"skewY",angle:f}]:(T=e,e=n)}else T=e,e=n}else T=e,e=n}else T=e,e=n;return e}()),e}function H(){var e,t,o,a;return e=T,t=T,(o=Z())===n&&(o=null),(a=function(){var e,t,o;return e=T,(t=function(){var e,t,o,a,i,u,c;return i=E,0===O&&V(i),O++,e=T,(t=rr())===n&&(t=null),46===r.charCodeAt(T)?(o=".",T++):o=n,o!==n&&(a=rr())!==n?(c=a,e=[(u=t)?u.join(""):null,".",c.join("")].join("")):(T=e,e=n),e===n&&(e=T,(t=rr())!==n?(46===r.charCodeAt(T)?(o=".",T++):o=n,o!==n?e=t.join(""):(T=e,e=n)):(T=e,e=n)),O--,e}())!==n?((o=W())===n&&(o=null),e=[t,o||null].join("")):(T=e,e=n),e===n&&(e=T,(t=rr())!==n&&(o=W())!==n?e=[t,o].join(""):(T=e,e=n)),e}())!==n?t=o=[o,a]:(T=t,t=n),t!==n&&(t=parseFloat(t.join(""))),(e=t)===n&&(e=T,t=T,(o=Z())===n&&(o=null),(a=function(){var r;return T,(r=rr())!==n&&(r=r.join("")),r}())!==n?t=o=[o,a]:(T=t,t=n),t!==n&&(t=parseInt(t.join(""))),e=t),e}function J(){var r,e;return r=T,K()!==n&&(e=H())!==n?r=e:(T=r,r=n),r}function K(){var r,e,t,o,a;if(r=T,e=[],(t=tr())!==n)for(;t!==n;)e.push(t),t=tr();else e=n;if(e!==n){for((t=Q())===n&&(t=null),o=[],a=tr();a!==n;)o.push(a),a=tr();r=e=[e,t,o]}else T=r,r=n;if(r===n)if(r=T,(e=Q())!==n){for(t=[],o=tr();o!==n;)t.push(o),o=tr();r=e=[e,t]}else T=r,r=n;return r}function Q(){var e,t;return t=C,0===O&&V(t),44===r.charCodeAt(T)?(e=",",T++):e=n,e}function W(){var e,t,o,a,i;return e=T,i=I,0===O&&V(i),d.test(r.charAt(T))?(t=r.charAt(T),T++):t=n,t!==n?((o=Z())===n&&(o=null),(a=rr())!==n?e=["e",o,a.join("")].join(""):(T=e,e=n)):(T=e,e=n),e}function Z(){var e,t;return t=_,0===O&&V(t),y.test(r.charAt(T))?(e=r.charAt(T),T++):e=n,e}function rr(){var r,e;if(r=[],(e=er())!==n)for(;e!==n;)r.push(e),e=er();else r=n;return r}function er(){var e,t;return t=F,0===O&&V(t),v.test(r.charAt(T))?(e=r.charAt(T),T++):e=n,e}function tr(){var e,t;return t=R,0===O&&V(t),A.test(r.charAt(T))?(e=r.charAt(T),T++):e=n,e}if(P.push({pos:T,variants:[]}),(t=a())!==n&&T===r.length)return t;throw t!==n&&T<r.length&&V({type:"end"}),U=P[0],X=U.pos,function(r,e,t){return new D(D.buildMessage(r,e,t),r,e,t)}(U.variants,X<r.length?r.charAt(X):null,X<r.length?L(X,X+1):L(X,X))}function G(r){return Y(r)}return function(r,e){function t(){this.constructor=r}t.prototype=e.prototype,r.prototype=new t}(D,Error),D.buildMessage=function(r,e,t){var n={literal:function(r){return'"'+a(r.text)+'"'},class:function(r){var e=r.parts.map((function(r){return Array.isArray(r)?i(r[0])+"-"+i(r[1]):i(r)}));return"["+(r.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description},not:function(r){return"not "+u(r.expected)}};function o(r){return r.charCodeAt(0).toString(16).toUpperCase()}function a(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+o(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+o(r)}))}function i(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+o(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+o(r)}))}function u(r){return n[r.type](r)}return"Expected "+function(r){var e,t,n=r.map(u);if(n.sort(),n.length>0){for(e=1,t=1;e<n.length;e++)n[e-1]!==n[e]&&(n[t]=n[e],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+function(r){return r?'"'+a(r)+'"':"end of input"}(e)+" found."},e})()}));
//# sourceMappingURL=transformation-matrix.min.js.map